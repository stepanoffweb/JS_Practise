<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Lesson 15</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/material-kit.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="container">
        <h2>Slider</h2>
        <h3>Простой слайдер на jQuery: transform-translate кадров во viewport</h3>
        <hr>
        <div class="slider">
            <div class="viewport">
                <ul class="sliderwprapper">
                    <li class="slide"><img src="img/1.png" alt="Слайд 1"></li>
                    <li class="slide"><img src="img/2.png" alt="Слайд 2"></li>
                    <li class="slide"><img src="img/3.png" alt="Слайд 3"></li>
                    <li class="slide"><img src="img/4.png" alt="Слайд 4"></li>
                </ul>
                <div class="btn btn-prev	btn-round btn-primary">&lt;</div>
                <div class="btn btn-next	btn-round btn-primary">&gt;</div>

                <div class="btns">
                    <div class="slide-nav active"></div>
                    <div class="slide-nav"></div>
                    <div class="slide-nav"></div>
                    <div class="slide-nav"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="http://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script >
		$(function() {	
	var slideNow = 1;
	var slideCount = $('.sliderwprapper').children().length;
	var slideTime = 5000;
	var navBtn = $('.slide-nav');

	navBtn.click(function() {
		navBtn = $(this).index();
		$('.active').removeClass('active');
		$(this).toggleClass('active');
		if (navBtn + 1 != slideNow) {
			var translateWidth = -$('.viewport').width() * (navBtn);	
			$('.sliderwprapper').css({
				'transform': 'translate('+translateWidth+'px,0)',
				'-o-transform': 'translate('+translateWidth+'px,0)',
				'-webkit-transform': 'translate('+translateWidth+'px,0)'
			});	
			slideNow = navBtn + 1;
		}
	});

	// setInterval(nextSlide, slideTime);

	$('.btn-next').click(nextSlide);
	$('.btn-prev').click(prevSlide);


	
	function nextSlide() {
		if (slideNow == slideCount || slideNow <=0 || slideNow > slideCount) {
			$('.sliderwprapper').css({
				'transform': 'translate(0,0)',
				'-o-transform': 'translate(0,0)',
				'-webkit-transform': 'translate(0,0)'
			});
			slideNow = 1;
		} else {
			var translateWidth = -$('.viewport').width()	* (slideNow);	
			$('.sliderwprapper').css({
				'transform': 'translate('+translateWidth+'px,0)',
				'-o-transform': 'translate('+translateWidth+'px,0)',
				'-webkit-transform': 'translate('+translateWidth+'px,0)'
			});	
			slideNow++;
		}
	}
	function prevSlide() {
		if (slideNow == 1 || slideNow <=0 || slideNow > slideCount) {
			var translateWidth = -$('.viewport').width() * (slideCount - 1);
			$('.sliderwprapper').css({
				'transform': 'translate('+translateWidth+'px,0)',
				'-o-transform': 'translate('+translateWidth+'px,0)',
				'-webkit-transform': 'translate('+translateWidth+'px,0)'
			});
			slideNow = slideCount;
		} else {
			var translateWidth = -$('.viewport').width()	* (slideNow - 2);
			$('.sliderwprapper').css({
				'transform': 'translate('+translateWidth+'px,0)',
				'-o-transform': 'translate('+translateWidth+'px,0)',
				'-webkit-transform': 'translate('+translateWidth+'px,0)'
			});	
			slideNow--;
		}
	}
});	
	</script>
</body>

</html>
